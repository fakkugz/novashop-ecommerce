var I=Object.defineProperty,D=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var x=(e,i,o)=>i in e?I(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,l=(e,i)=>{for(var o in i||(i={}))k.call(i,o)&&x(e,o,i[o]);if(h)for(var o of h(i))y.call(i,o)&&x(e,o,i[o]);return e},p=(e,i)=>D(e,F(i));import{r as u,j as r}from"./react-C4x6nB0e.js";import{n as E}from"./index-Beew410P.js";import{a as T}from"./react-redux-CqFTqn1Y.js";import{C as S,_ as z,N as n,a as g,e as b,w as P,D as W,i as A,j as L,k as R}from"./@mui-ENk-6xqm.js";import"./cookie-DlAFqcQt.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./react-router-D3ErKnLK.js";import"./@reduxjs-y-geLa07.js";import"./redux-CENK1Oau.js";import"./immer-BR-8vkaV.js";import"./redux-thunk-ClJT1hhx.js";import"./swiper-BlMsgj9I.js";import"./axios-QAAP6aZB.js";import"./reselect-MJrD8sqi.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-is-BPJnJB5S.js";import"./use-sync-external-store-jrMDq4jT.js";const ce=()=>{const[e,i]=u.useState(!1),[o,m]=u.useState(!1),f=T(t=>t.auth.user),[d,j]=u.useState({}),C=(t,s)=>{let a="";switch(t){case"name":case"lastname":case"city":case"state":case"country":/^[A-Za-zÀ-ÿ\s]+$/.test(s)||(a="Solo letras permitidas");break;case"email":/^[\w-.]+@[\w-]+\.[a-z]{2,}$/.test(s)||(a="Correo inválido");break;case"phone":/^\d{3}[-]?\d{3}[-]?\d{4}$/.test(s)||(a="Debe ser un teléfono válido (Ej. 123-456-7890)");break;case"address":/^[A-Za-z0-9À-ÿ\s,.-]+$/.test(s)||(a="Caracteres inválidos");break}j(c=>p(l({},c),{[t]:a}))},w=t=>{const{name:s,value:a}=t.target;E(c=>p(l({},c),{[s]:a})),C(s,a)},M=()=>{if(Object.values(d).some(t=>t!=="")){alert("Corrige los errores antes de guardar.");return}i(!1),m(!0)},O=()=>{e?M():i(!e)},v=()=>{m(!1)};return r.jsxs(S,{maxWidth:"md",children:[r.jsxs(z,{elevation:3,sx:{padding:3,mt:5,bgcolor:"primary.main"},children:[r.jsxs(n,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",children:[r.jsx(n,{size:{sm:6},children:r.jsx(g,{variant:"h5",color:"white",gutterBottom:!0,children:"Profile"})}),r.jsx(n,{size:{sm:6},display:"flex",justifyContent:"flex-end",children:r.jsx(b,{variant:"contained",sx:{backgroundColor:"secondary.light",color:"white","&:hover":{backgroundColor:"secondary.main"}},onClick:O,children:e?"Save":"Edit Profile"})})]}),r.jsx(n,{container:!0,spacing:2,mt:2,children:Object.entries(f).map(([t,s])=>r.jsx(n,{size:{xs:12,sm:6},children:r.jsx(P,{fullWidth:!0,label:t.charAt(0).toUpperCase()+t.slice(1),name:t,value:s,onChange:w,disabled:!e,error:!!d[t],helperText:d[t]||"",slotProps:{input:l({style:{backgroundColor:e?"white":"inherit",WebkitTextFillColor:e?"inherit":"#424242"}},t==="phone"&&{maxLength:12,inputMode:"numeric",pattern:"[0-9]*"}),formHelperText:{component:"span"}},color:"primary",sx:{"& .MuiOutlinedInput-input":{backgroundColor:e?"white":"inherit",borderRadius:"5px"},"& .MuiOutlinedInput-input.Mui-disabled":{WebkitTextFillColor:"white"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiInputLabel-root":{color:"white",backgroundColor:e?"#FF5733":"inherit",borderRadius:"4px"},"& .MuiInputLabel-root.Mui-disabled":{color:"white"},"& .MuiInputLabel-outlined":{transform:"translate(9px, -8px) scale(0.75)",padding:"0 7px"},"& .MuiOutlinedInput-notchedOutline legend":{width:"auto !important"},"& .MuiFormHelperText-root":{color:"white",bgcolor:"rgb(255, 0, 0)",maxWidth:"max-content",padding:"2px 6px",borderRadius:"4px"}}})},t))})]}),r.jsxs(W,{open:o,children:[r.jsx(A,{color:"#FF5733",children:"Message"}),r.jsx(L,{children:r.jsx(g,{children:"Data saved successfully"})}),r.jsx(R,{children:r.jsx(b,{onClick:v,color:"primary",children:"OK"})})]})]})};export{ce as default};
