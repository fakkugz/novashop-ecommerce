import{g as J,w as Q,r as y,x as V,ax as ut,T as ht,l as xt,ay as mt,n as ft,j as o,B as j,c as nt,f as X,t as _,D as gt,A as W,N as z,R as tt,U as Ct,a5 as yt,ad as vt,af as wt,ah as St,a7 as et,ap as jt,ag as ot,a8 as Y,az as K,aA as bt,ai as Rt,aj as Et,ak as Tt,al as At,aa as Ht}from"./index-CMTdWEKz.js";import{F as zt}from"./Favorite-CjyvYGac.js";function Mt(e){return J("MuiCollapse",e)}Q("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const $t=e=>{const{orientation:t,classes:s}=e,a={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return X(a,Mt,s)},Pt=j("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(gt(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Dt=j("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),kt=j("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),G=y.forwardRef(function(t,s){const a=V({props:t,name:"MuiCollapse"}),{addEndListener:c,children:l,className:g,collapsedSize:i="0px",component:R,easing:v,in:M,onEnter:$,onEntered:E,onEntering:b,onExit:T,onExited:d,onExiting:p,orientation:u="vertical",style:h,timeout:x=ut.standard,TransitionComponent:F=ht,...C}=a,w={...a,orientation:u,collapsedSize:i},S=$t(w),P=xt(),N=mt(),r=y.useRef(null),L=y.useRef(),D=typeof i=="number"?`${i}px`:i,A=u==="horizontal",H=A?"width":"height",k=y.useRef(null),st=ft(s,k),I=n=>m=>{if(n){const f=k.current;m===void 0?n(f):n(f,m)}},q=()=>r.current?r.current[A?"clientWidth":"clientHeight"]:0,rt=I((n,m)=>{r.current&&A&&(r.current.style.position="absolute"),n.style[H]=D,$&&$(n,m)}),at=I((n,m)=>{const f=q();r.current&&A&&(r.current.style.position="");const{duration:U,easing:O}=_({style:h,timeout:x,easing:v},{mode:"enter"});if(x==="auto"){const Z=P.transitions.getAutoHeightDuration(f);n.style.transitionDuration=`${Z}ms`,L.current=Z}else n.style.transitionDuration=typeof U=="string"?U:`${U}ms`;n.style[H]=`${f}px`,n.style.transitionTimingFunction=O,b&&b(n,m)}),it=I((n,m)=>{n.style[H]="auto",E&&E(n,m)}),lt=I(n=>{n.style[H]=`${q()}px`,T&&T(n)}),dt=I(d),ct=I(n=>{const m=q(),{duration:f,easing:U}=_({style:h,timeout:x,easing:v},{mode:"exit"});if(x==="auto"){const O=P.transitions.getAutoHeightDuration(m);n.style.transitionDuration=`${O}ms`,L.current=O}else n.style.transitionDuration=typeof f=="string"?f:`${f}ms`;n.style[H]=D,n.style.transitionTimingFunction=U,p&&p(n)}),pt=n=>{x==="auto"&&N.start(L.current||0,n),c&&c(k.current,n)};return o.jsx(F,{in:M,onEnter:rt,onEntered:it,onEntering:at,onExit:lt,onExited:dt,onExiting:ct,addEndListener:pt,nodeRef:k,timeout:x==="auto"?null:x,...C,children:(n,{ownerState:m,...f})=>o.jsx(Pt,{as:R,className:nt(S.root,g,{entered:S.entered,exited:!M&&D==="0px"&&S.hidden}[n]),style:{[A?"minWidth":"minHeight"]:D,...h},ref:st,ownerState:{...w,state:n},...f,children:o.jsx(Dt,{ownerState:{...w,state:n},className:S.wrapper,ref:r,children:o.jsx(kt,{ownerState:{...w,state:n},className:S.wrapperInner,children:l})})})})});G&&(G.muiSupportAuto=!0);function It(e){return J("MuiCardActions",e)}Q("MuiCardActions",["root","spacing"]);const Wt=e=>{const{classes:t,disableSpacing:s}=e;return X({root:["root",!s&&"spacing"]},It,t)},Ft=j("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Nt=y.forwardRef(function(t,s){const a=V({props:t,name:"MuiCardActions"}),{disableSpacing:c=!1,className:l,...g}=a,i={...a,disableSpacing:c},R=Wt(i);return o.jsx(Ft,{className:nt(R.root,l),ownerState:i,ref:s,...g})});function Lt(e){return J("MuiCardHeader",e)}const B=Q("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Ut=e=>{const{classes:t}=e;return X({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Lt,t)},Ot=j("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>[{[`& .${B.title}`]:t.title},{[`& .${B.subheader}`]:t.subheader},t.root]})({display:"flex",alignItems:"center",padding:16}),Bt=j("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),qt=j("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Kt=j("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto",[`.${tt.root}:where(& .${B.title})`]:{display:"block"},[`.${tt.root}:where(& .${B.subheader})`]:{display:"block"}}),Yt=y.forwardRef(function(t,s){const a=V({props:t,name:"MuiCardHeader"}),{action:c,avatar:l,component:g="div",disableTypography:i=!1,subheader:R,subheaderTypographyProps:v,title:M,titleTypographyProps:$,slots:E={},slotProps:b={},...T}=a,d={...a,component:g,disableTypography:i},p=Ut(d),u={slots:E,slotProps:{title:$,subheader:v,...b}};let h=M;const[x,F]=W("title",{className:p.title,elementType:z,externalForwardedProps:u,ownerState:d,additionalProps:{variant:l?"body2":"h5",component:"span"}});h!=null&&h.type!==z&&!i&&(h=o.jsx(x,{...F,children:h}));let C=R;const[w,S]=W("subheader",{className:p.subheader,elementType:z,externalForwardedProps:u,ownerState:d,additionalProps:{variant:l?"body2":"body1",color:"textSecondary",component:"span"}});C!=null&&C.type!==z&&!i&&(C=o.jsx(w,{...S,children:C}));const[P,N]=W("root",{ref:s,className:p.root,elementType:Ot,externalForwardedProps:{...u,...T,component:g},ownerState:d}),[r,L]=W("avatar",{className:p.avatar,elementType:Bt,externalForwardedProps:u,ownerState:d}),[D,A]=W("content",{className:p.content,elementType:Kt,externalForwardedProps:u,ownerState:d}),[H,k]=W("action",{className:p.action,elementType:qt,externalForwardedProps:u,ownerState:d});return o.jsxs(P,{...N,children:[l&&o.jsx(r,{...L,children:l}),o.jsxs(D,{...A,children:[h,C]}),c&&o.jsx(H,{...k,children:c})]})}),Gt=Ct(o.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Jt=j(e=>{const{expand:t,...s}=e;return o.jsx(Y,{...s})})(({theme:e})=>({marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),variants:[{props:({expand:t})=>!t,style:{transform:"rotate(0deg)"}},{props:({expand:t})=>!!t,style:{transform:"rotate(180deg)"}}]}));function Xt({id:e,title:t,price:s,description:a,category:c,image:l,rate:g,onAddToCartSuccess:i,sx:R={}}){const[v,M]=y.useState(!1),[$,E]=y.useState(!1),{favorites:b,setFavorites:T,cart:d,setCart:p,addToCart:u,formatPrice:h}=y.useContext(yt),{isAuthenticated:x}=y.useContext(vt),F=()=>{M(!v)},C=b.some(r=>r.id===e),w=d.some(r=>r.id===e),S=()=>{x?T(C?b.filter(r=>r.id!==e):[...b,{id:e,title:t,price:s,description:a,category:c,image:l,rating:{rate:g}}]):E(!0)},P=()=>{if(w)p(d.filter(r=>r.id!==e));else{const r={id:e,title:t,price:s,description:a,category:c,image:l,rate:g};u(r),i&&i(r)}},N=()=>{E(!1)};return o.jsxs(wt,{id:e,sx:{maxWidth:284,minHeight:{xs:400,sm:480,md:520},display:"flex",flexDirection:"column",justifyContent:"space-between",...R},children:[o.jsxs(St,{to:`/shop/products/${e}`,style:{textDecoration:"none",color:"inherit"},children:[o.jsx(et,{sx:{height:{xs:190,sm:220,md:260},width:"auto",display:"flex",alignItems:"center",justifyContent:"center",p:1},children:o.jsx(jt,{component:"img",image:l,alt:t,sx:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})}),o.jsx(Yt,{title:t,subheader:`${c} - ${g}`,sx:{"& .MuiCardHeader-title":{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:2,maxWidth:"100%",fontSize:{xs:"16px",sm:"20px"}},"& .MuiCardHeader-subheader":{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:1,maxWidth:"100%",fontSize:{xs:"11px",sm:"16px"}}}}),o.jsx(et,{sx:{m:{xs:0,sm:1}},children:o.jsx(ot,{children:o.jsx(z,{variant:"h4",align:"center",sx:{fontSize:{xs:"25px",sm:"30px"}},children:`$ ${h(s)}`})})})]}),o.jsxs(Nt,{disableSpacing:!0,children:[o.jsx(Y,{"aria-label":"add to favorites",onClick:S,sx:{"&:focus":{outline:"none"}},children:o.jsx(K,{title:"Add to Favorites",arrow:!0,children:o.jsx(zt,{sx:{color:C?"secondary.main":"inherit"}})})}),o.jsx(Y,{"aria-label":"share",onClick:P,sx:{"&:focus":{outline:"none"}},children:o.jsx(K,{title:"Add to Cart",arrow:!0,children:o.jsx(bt,{sx:{color:w?"primary.main":"inherit"}})})}),o.jsx(Jt,{expand:v,onClick:F,"aria-expanded":v,"aria-label":"show more",sx:{"&:focus":{outline:"none"}},children:o.jsx(K,{title:"+ Info",arrow:!0,children:o.jsx(Gt,{})})})]}),o.jsx(G,{in:v,timeout:"auto",unmountOnExit:!0,children:o.jsx(ot,{children:o.jsx(z,{variant:"body2",sx:{color:"text.secondary"},children:a})})}),o.jsxs(Rt,{open:$,children:[o.jsx(Et,{children:"Login Required"}),o.jsx(Tt,{children:o.jsx(z,{variant:"body1",children:"You must log in to add products to favorites."})}),o.jsx(At,{children:o.jsx(Ht,{onClick:N,color:"primary",children:"OK"})})]})]})}export{G as C,Gt as E,Xt as I};
