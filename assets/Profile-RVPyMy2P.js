import{r as a,ad as M,j as e,am as O,P as v,ab as s,N as u,aa as p,ai as I,aj as F,ak as T,al as k}from"./index-BInS6C43.js";import{T as y}from"./TextField-DA6hfk8u.js";const z=()=>{const[r,d]=a.useState(!1),[h,c]=a.useState(!1),{user:x,setUser:g}=a.useContext(M),[n,m]=a.useState({}),b=(t,i)=>{let o="";switch(t){case"name":case"lastname":case"city":case"state":case"country":/^[A-Za-zÀ-ÿ\s]+$/.test(i)||(o="Solo letras permitidas");break;case"email":/^[\w-.]+@[\w-]+\.[a-z]{2,}$/.test(i)||(o="Correo inválido");break;case"phone":/^\d{3}[-]?\d{3}[-]?\d{4}$/.test(i)||(o="Debe ser un teléfono válido (Ej. 123-456-7890)");break;case"address":/^[A-Za-z0-9À-ÿ\s,.-]+$/.test(i)||(o="Caracteres inválidos");break}m(l=>({...l,[t]:o}))},f=t=>{const{name:i,value:o}=t.target;g(l=>({...l,[i]:o})),b(i,o)},j=()=>{if(Object.values(n).some(t=>t!=="")){alert("Corrige los errores antes de guardar.");return}d(!1),c(!0)},C=()=>{r?j():d(!r)},w=()=>{c(!1)};return e.jsxs(O,{maxWidth:"md",children:[e.jsxs(v,{elevation:3,sx:{padding:3,mt:5,bgcolor:"primary.main"},children:[e.jsxs(s,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",children:[e.jsx(s,{size:{sm:6},children:e.jsx(u,{variant:"h5",color:"white",gutterBottom:!0,children:"Profile"})}),e.jsx(s,{size:{sm:6},display:"flex",justifyContent:"flex-end",children:e.jsx(p,{variant:"contained",sx:{backgroundColor:"secondary.light",color:"white","&:hover":{backgroundColor:"secondary.main"}},onClick:C,children:r?"Save":"Edit Profile"})})]}),e.jsx(s,{container:!0,spacing:2,mt:2,children:Object.entries(x).map(([t,i])=>e.jsx(s,{size:{xs:12,sm:6},children:e.jsx(y,{fullWidth:!0,label:t.charAt(0).toUpperCase()+t.slice(1),name:t,value:i,onChange:f,disabled:!r,error:!!n[t],helperText:n[t]||"",slotProps:{input:{style:{backgroundColor:r?"white":"inherit",WebkitTextFillColor:r?"inherit":"#424242"},...t==="phone"&&{maxLength:12,inputMode:"numeric",pattern:"[0-9]*"}},formHelperText:{component:"span"}},color:"primary",sx:{"& .MuiOutlinedInput-input":{backgroundColor:r?"white":"inherit",borderRadius:"5px"},"& .MuiOutlinedInput-input.Mui-disabled":{WebkitTextFillColor:"white"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiInputLabel-root":{color:"white",backgroundColor:r?"#FF5733":"inherit",borderRadius:"4px"},"& .MuiInputLabel-root.Mui-disabled":{color:"white"},"& .MuiInputLabel-outlined":{transform:"translate(9px, -8px) scale(0.75)",padding:"0 7px"},"& .MuiOutlinedInput-notchedOutline legend":{width:"auto !important"},"& .MuiFormHelperText-root":{color:"white",bgcolor:"rgb(255, 0, 0)",maxWidth:"max-content",padding:"2px 6px",borderRadius:"4px"}}})},t))})]}),e.jsxs(I,{open:h,children:[e.jsx(F,{color:"#FF5733",children:"Message"}),e.jsx(T,{children:e.jsx(u,{children:"Data saved successfully"})}),e.jsx(k,{children:e.jsx(p,{onClick:w,color:"primary",children:"OK"})})]})]})};export{z as default};
