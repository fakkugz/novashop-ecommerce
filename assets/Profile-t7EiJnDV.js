var D=Object.defineProperty,F=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var x=(e,r,o)=>r in e?D(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,l=(e,r)=>{for(var o in r||(r={}))y.call(r,o)&&x(e,o,r[o]);if(h)for(var o of h(r))E.call(r,o)&&x(e,o,r[o]);return e},u=(e,r)=>F(e,k(r));import{r as d,j as t}from"./react-C4x6nB0e.js";import{A as T}from"./index-BlVa0hfE.js";import{C as z,_ as A,N as n,a as g,e as b,w as S,D as P,i as W,j as L,k as R}from"./@mui-ENk-6xqm.js";import"./cookie-DlAFqcQt.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./axios-QAAP6aZB.js";import"./react-router-D3ErKnLK.js";import"./swiper-BlMsgj9I.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-is-BPJnJB5S.js";const ie=()=>{const[e,r]=d.useState(!1),[o,m]=d.useState(!1),{user:f,setUser:j}=d.useContext(T),[c,C]=d.useState({}),w=(i,s)=>{let a="";switch(i){case"name":case"lastname":case"city":case"state":case"country":/^[A-Za-zÀ-ÿ\s]+$/.test(s)||(a="Solo letras permitidas");break;case"email":/^[\w-.]+@[\w-]+\.[a-z]{2,}$/.test(s)||(a="Correo inválido");break;case"phone":/^\d{3}[-]?\d{3}[-]?\d{4}$/.test(s)||(a="Debe ser un teléfono válido (Ej. 123-456-7890)");break;case"address":/^[A-Za-z0-9À-ÿ\s,.-]+$/.test(s)||(a="Caracteres inválidos");break}C(p=>u(l({},p),{[i]:a}))},M=i=>{const{name:s,value:a}=i.target;j(p=>u(l({},p),{[s]:a})),w(s,a)},O=()=>{if(Object.values(c).some(i=>i!=="")){alert("Corrige los errores antes de guardar.");return}r(!1),m(!0)},v=()=>{e?O():r(!e)},I=()=>{m(!1)};return t.jsxs(z,{maxWidth:"md",children:[t.jsxs(A,{elevation:3,sx:{padding:3,mt:5,bgcolor:"primary.main"},children:[t.jsxs(n,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",children:[t.jsx(n,{size:{sm:6},children:t.jsx(g,{variant:"h5",color:"white",gutterBottom:!0,children:"Profile"})}),t.jsx(n,{size:{sm:6},display:"flex",justifyContent:"flex-end",children:t.jsx(b,{variant:"contained",sx:{backgroundColor:"secondary.light",color:"white","&:hover":{backgroundColor:"secondary.main"}},onClick:v,children:e?"Save":"Edit Profile"})})]}),t.jsx(n,{container:!0,spacing:2,mt:2,children:Object.entries(f).map(([i,s])=>t.jsx(n,{size:{xs:12,sm:6},children:t.jsx(S,{fullWidth:!0,label:i.charAt(0).toUpperCase()+i.slice(1),name:i,value:s,onChange:M,disabled:!e,error:!!c[i],helperText:c[i]||"",slotProps:{input:l({style:{backgroundColor:e?"white":"inherit",WebkitTextFillColor:e?"inherit":"#424242"}},i==="phone"&&{maxLength:12,inputMode:"numeric",pattern:"[0-9]*"}),formHelperText:{component:"span"}},color:"primary",sx:{"& .MuiOutlinedInput-input":{backgroundColor:e?"white":"inherit",borderRadius:"5px"},"& .MuiOutlinedInput-input.Mui-disabled":{WebkitTextFillColor:"white"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiInputLabel-root":{color:"white",backgroundColor:e?"#FF5733":"inherit",borderRadius:"4px"},"& .MuiInputLabel-root.Mui-disabled":{color:"white"},"& .MuiInputLabel-outlined":{transform:"translate(9px, -8px) scale(0.75)",padding:"0 7px"},"& .MuiOutlinedInput-notchedOutline legend":{width:"auto !important"},"& .MuiFormHelperText-root":{color:"white",bgcolor:"rgb(255, 0, 0)",maxWidth:"max-content",padding:"2px 6px",borderRadius:"4px"}}})},i))})]}),t.jsxs(P,{open:o,children:[t.jsx(W,{color:"#FF5733",children:"Message"}),t.jsx(L,{children:t.jsx(g,{children:"Data saved successfully"})}),t.jsx(R,{children:t.jsx(b,{onClick:I,color:"primary",children:"OK"})})]})]})};export{ie as default};
