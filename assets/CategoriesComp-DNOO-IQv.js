var S=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var j=(e,t,i)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,h=(e,t)=>{for(var i in t||(t={}))y.call(t,i)&&j(e,i,t[i]);if(g)for(var i of g(t))E.call(t,i)&&j(e,i,t[i]);return e};import{r as a,j as r}from"./react-C4x6nB0e.js";import{a as w}from"./react-redux-CqFTqn1Y.js";import{B as f,n as F,a as C,N as I,X as R,Y as P}from"./@mui-ENk-6xqm.js";import{m as v}from"./framer-motion-CKORm7Aa.js";import{a as k}from"./react-router-D3ErKnLK.js";import"./cookie-DlAFqcQt.js";import"./use-sync-external-store-jrMDq4jT.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./react-is-BPJnJB5S.js";import"./motion-dom-DfhgNKIO.js";import"./motion-utils-DJR9y8Oj.js";const A="/novashop-ecommerce/assets/27002-ChFym0Mk.webp",M=({src:e})=>{const[t,i]=a.useState(e),[p,l]=a.useState(!1);return a.useEffect(()=>{if(e!==t){l(!0);const x=setTimeout(()=>{i(e),l(!1)},1e3);return()=>clearTimeout(x)}},[e,t]),r.jsxs(f,{sx:{position:"relative",width:"100%",height:{xs:190,sm:300,md:390}},children:[r.jsx(v.img,{src:t,initial:{opacity:1},animate:{opacity:p?0:1},transition:{duration:1},style:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},t),p&&r.jsx(v.img,{src:e,initial:{opacity:0},animate:{opacity:1},transition:{duration:1},style:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},e)]})},_=()=>{const e=w(s=>s.products.allProducts),t=w(s=>s.products.categories),i=k(),[p,l]=a.useState({}),x=a.useRef({}),d=a.useRef({});a.useEffect(()=>{if(e.length===0||t.length===0)return;const s={},m={},n={};t.forEach(o=>{const u=e.filter(c=>c.category===o).map(c=>c.image);u.length>0&&(m[o]=u,n[o]=0,s[o]=u[0])}),x.current=m,d.current=n,l(s)},[e,t]),a.useEffect(()=>{if(t.length===0||e.length===0)return;const s=setInterval(()=>{const m={};t.forEach(n=>{const o=x.current[n];if(!o||o.length<=1)return;const c=(d.current[n]+1)%o.length;d.current[n]=c,m[n]=o[c]}),l(n=>h(h({},n),m))},5e3);return()=>clearInterval(s)},[t,e]);const b=s=>{i(`/shop?category=${encodeURIComponent(s)}`)};return e.length===0?r.jsx(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:1110,width:"100%",flexDirection:"column",backgroundColor:"transparent"},children:r.jsx(F,{sx:{color:"#FF5733"}})}):r.jsxs(f,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:{xs:0,md:4}},children:[r.jsx(C,{variant:"h4",sx:{color:"white",textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:{xs:"25px",sm:"35px"}},children:"CATEGORIES"}),r.jsx(I,{container:!0,spacing:2,rowSpacing:{xs:2,md:8},sx:{mt:4,width:"70%",display:"flex"},children:t.map(s=>r.jsx(I,{size:{xs:6},sx:{display:"flex",justifyContent:"center"},children:r.jsxs(R,{onClick:()=>b(s),sx:{p:2,width:300,cursor:"pointer",position:"relative",overflow:"hidden",borderRadius:"10px","&:hover":{transform:"scale(1.05)"},transition:"transform 0.3s ease"},children:[r.jsx(M,{src:p[s]||A}),r.jsx(P,{sx:{position:"absolute",bottom:{xs:-15,md:0},left:0,bgcolor:"rgba(13, 63, 112, 0.7)",width:"100%"},children:r.jsx(C,{variant:"h6",sx:{color:"white",textAlign:"center",fontSize:{xs:"16px",sm:"18px",md:"21px"}},children:s.charAt(0).toUpperCase()+s.slice(1)})})]})},s))})]})};export{_ as default};
