import{r as S,j as e}from"./react-C4x6nB0e.js";import{B as s,N as l,a as i,q as c,I as D,U as B,e as r,V as W,W as q,X as A,Y as $,Z as z,D as N,i as O,j as R,k as L}from"./@mui-ENk-6xqm.js";import{u as P,a as g}from"./react-redux-CqFTqn1Y.js";import{r as T,u as y,m as F}from"./index-Beew410P.js";import{f as h}from"./formatPrice-CN-i1W_t.js";import{a as E,L as M}from"./react-router-D3ErKnLK.js";import"./cookie-DlAFqcQt.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./react-is-BPJnJB5S.js";import"./use-sync-external-store-jrMDq4jT.js";import"./@reduxjs-y-geLa07.js";import"./redux-CENK1Oau.js";import"./immer-BR-8vkaV.js";import"./redux-thunk-ClJT1hhx.js";import"./swiper-BlMsgj9I.js";import"./axios-QAAP6aZB.js";import"./reselect-MJrD8sqi.js";function me(){const x=E(),o=P(),n=g(t=>t.cart.cart),f=g(t=>t.auth.isAuthenticated),[b,d]=S.useState(!1),m=500,p=()=>h(n.reduce((t,a)=>t+a.price*a.quantity,0)),C=()=>h(p()+m),w=()=>{d(!0)},u=()=>{d(!1)},v=()=>{o(F()),d(!1)},j=n.length===0,k=()=>{j||x(f?"/checkout":"/login")};return e.jsxs(s,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",gap:2,p:{xs:2,md:5},height:"auto"},children:[e.jsxs(l,{container:!0,spacing:3,sx:{width:"100%",maxWidth:"1200px",background:"rgb(27, 27, 27)",border:"1px solid rgba(255, 255, 255, 0.67)",borderRadius:"10px",boxShadow:"1px 1px 3px rgba(255, 255, 255, 0.47)",p:{xs:2,md:3}},children:[n.length===0?e.jsx(l,{size:{xs:12,md:8},sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},children:e.jsx(i,{variant:"h5",children:"No products added to the cart"})}):e.jsx(l,{size:{xs:12,md:8},children:e.jsxs(s,{sx:{p:2,borderRadius:"5px",height:"auto",display:"flex",flexDirection:"column",gap:2,border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)"},children:[e.jsx(i,{variant:"h5",gutterBottom:!0,children:"Products in Cart"}),e.jsx(c,{sx:{mb:2,bgcolor:"grey.500"}}),n.map((t,a)=>e.jsxs(s,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:{xs:"flex-start",sm:"space-between"},gap:{xs:1,sm:2}},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[e.jsx(D,{onClick:()=>o(T(t.id)),sx:{color:"white",p:.5,mr:1,"&:focus":{outline:"none",boxShadow:"none"},"&:active":{outline:I=>`1px solid ${I.palette.primary.main}`}},children:e.jsx(B,{})}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,cursor:"pointer"},onClick:()=>x(`/shop/products/${t.id}`),children:[e.jsx(s,{sx:{bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:.4,borderRadius:"25%",boxShadow:"1px 1px 3px rgba(255,255,255,0.43)"},children:e.jsx("img",{src:t.image,alt:t.title,style:{width:50,height:50,objectFit:"contain"}})}),e.jsx(i,{variant:"body2",sx:{maxWidth:360,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:{xs:2,md:1},WebkitBoxOrient:"vertical"},children:t.title})]})]}),e.jsxs(s,{sx:{minWidth:"215px",display:"flex",gap:5,alignItems:"center",alignSelf:{xs:"center",md:"center"},justifyContent:"space-between",mb:{xs:3,sm:0}},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{variant:"outlined",size:"small",onClick:()=>o(y({productId:t.id,quantity:t.quantity-1})),sx:{p:0,minWidth:"auto"},children:e.jsx(W,{})}),e.jsx(i,{variant:"body2",sx:{minWidth:"16px",p:1,textAlign:"center"},children:t.quantity}),e.jsx(r,{variant:"outlined",size:"small",onClick:()=>o(y({productId:t.id,quantity:t.quantity+1})),sx:{p:0,minWidth:"auto"},children:e.jsx(q,{})})]}),e.jsxs(i,{variant:"body2",sx:{fontSize:"18px"},children:["$ ",h(t.price*t.quantity)]})]})]},a)),e.jsx(c,{sx:{mt:2,bgcolor:"grey.500"}}),e.jsxs(i,{variant:"h6",sx:{textAlign:"right",mt:2},children:["Subtotal: $",p()]})]})}),e.jsx(l,{size:{xs:12,md:4},children:e.jsxs(A,{sx:{height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",background:"#1b1b1b",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)",color:"white",p:3},children:[e.jsxs($,{children:[e.jsx(i,{variant:"h5",gutterBottom:!0,children:"Order Summary"}),e.jsx(c,{sx:{mb:2,bgcolor:"grey.500"}}),e.jsxs(i,{variant:"body1",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:["Products (",n.reduce((t,a)=>t+a.quantity,0),")"]}),e.jsxs("span",{children:["$ ",p()]})]}),e.jsxs(i,{variant:"body1",sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:n.length===0?"$ 0":`$ ${m}`})]}),e.jsx(c,{sx:{my:2,bgcolor:"grey.500"}}),n.length===0?null:e.jsxs(i,{variant:"h6",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$ ",C()]})]})]}),e.jsx(r,{variant:"contained",disabled:j,color:"primary",fullWidth:!0,sx:{mt:2},onClick:k,children:"Buy Now"}),e.jsx(r,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mt:2},onClick:w,children:"Clear Cart"})]})})]}),e.jsx(M,{to:"/",children:e.jsxs(r,{onClick:()=>x(-1),sx:{alignSelf:"flex-start",ml:4,color:"white"},children:[e.jsx(z,{}),e.jsx(i,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]})}),e.jsxs(N,{open:b,onClose:u,children:[e.jsx(O,{children:"Confirm Clear Cart"}),e.jsx(R,{children:e.jsx(i,{variant:"body2",children:"Are you sure you want to clear all items in your cart?"})}),e.jsxs(L,{children:[e.jsx(r,{onClick:u,sx:{color:"secondary.main"},children:"Cancel"}),e.jsx(r,{onClick:v,color:"primary",children:"Clear Cart"})]})]})]})}export{me as default};
