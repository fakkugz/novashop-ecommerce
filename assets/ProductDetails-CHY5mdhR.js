import{ao as F,r as a,a5 as N,ad as L,ae as R,l as S,j as e,ah as I,a7 as l,aa as r,N as t,ab as c,a8 as O,ap as P,af as z,ag as E,ai as K,aj as M,ak as V,al as W}from"./index-BInS6C43.js";import{A as m}from"./ArrowBack-BeoIHYQa.js";import{A as G}from"./AddedToCart-DM2bEV4J.js";import{F as $}from"./Favorite-BxQhYqu1.js";import{D as b}from"./Divider-BZjof0y7.js";const U=()=>{const{id:i}=F(),{allProducts:j,addToCart:x,addToCartOpenModal:f,setAddToCartOpenModal:h,lastAddedProduct:C,setLastAddedProduct:y,updateLastVisited:v,favorites:n,setFavorites:p}=a.useContext(N),{isAuthenticated:k}=a.useContext(L),o=j.find(s=>s.id===Number(i)),[w,u]=a.useState(!1),d=R(),A=S();a.useEffect(()=>{window.scrollTo(0,0),o&&v(o)},[]);const D=s=>{x(s),y(s),h(!0)},T=()=>{u(!1)},g=n.some(s=>s.id===o.id),B=()=>{k?p(g?n.filter(s=>s.id!==Number(i)):[...n,o]):u(!0)};return o?e.jsxs(l,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:1,p:{xs:2,md:1}},children:[e.jsxs(r,{sx:{alignSelf:"center",ml:4,color:"white"},onClick:()=>d(-1),children:[e.jsx(m,{}),e.jsx(t,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]}),e.jsxs(c,{container:!0,spacing:3,sx:{width:"100%",maxWidth:"1200px",background:"rgb(27, 27, 27)",border:"1px solid rgba(255, 255, 255, 0.67)",borderRadius:"10px",boxShadow:"1px 1px 3px rgba(255, 255, 255, 0.47)",p:{xs:2,md:5}},children:[e.jsx(c,{size:{xs:12,md:6},children:e.jsxs(l,{sx:{background:"white",height:{xs:"400px",md:"510px"},borderRadius:"5px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",p:1},children:[e.jsx(O,{onClick:B,sx:{position:"absolute",top:100,left:125,backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:e.jsx($,{sx:{color:g?"secondary.main":"white",opacity:.7,"&:hover":{opacity:1}}})}),e.jsx(P,{component:"img",alt:o.title,image:o.image,sx:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"5px"}})]})}),e.jsx(c,{size:{xs:12,md:6},children:e.jsx(z,{sx:{height:{xs:"auto",md:"524px"},display:"flex",flexDirection:"column",justifyContent:"space-between",background:"#1b1b1b",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)",color:"white"},children:e.jsxs(E,{sx:{p:{xs:2,md:3},flexGrow:1},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,children:o.title}),e.jsx(b,{sx:{mb:2,bgcolor:"grey.500"}}),e.jsxs(t,{variant:"h3",component:"p",sx:{mb:2},children:["$ ",o.price]}),e.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,justifyContent:"space-between",mb:3},children:[e.jsx(r,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>{x(o),d("/cart")},sx:{backgroundColor:"secondary.light",color:"white",border:"2px solid transparent",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"secondary.main",border:"2px solid rgb(248, 115, 6)"}},children:"Buy Now"}),e.jsx(r,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>D(o),sx:{color:"secondary.main",border:`2px solid ${A.palette.secondary.main}`,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.4)",borderColor:"#4fc3f7",color:"#FF5121"}},children:"Add to cart"})]}),e.jsx(b,{sx:{mb:2}}),e.jsx(t,{variant:"body1",color:"rgb(233, 233, 233)",children:o.description})]})})})]}),e.jsxs(r,{sx:{alignSelf:"center",ml:4,color:"white"},onClick:()=>d(-1),children:[e.jsx(m,{}),e.jsx(t,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]}),e.jsx(G,{open:f,product:C,onClose:()=>h(!1)}),e.jsxs(K,{open:w,children:[e.jsx(M,{children:"Login Required"}),e.jsx(V,{children:e.jsx(t,{variant:"body1",children:"You must log in to add products to favorites."})}),e.jsx(W,{children:e.jsx(r,{onClick:T,color:"primary",children:"OK"})})]})]}):e.jsxs("section",{className:"task-details",children:[e.jsxs("p",{children:["No se encontr√≥ el producto con ID: ",i]}),e.jsx(I,{to:"/shop",children:e.jsx("button",{className:"btn-back",children:"VOLVER"})})]})};export{U as default};
