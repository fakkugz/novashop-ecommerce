var S=Object.defineProperty;var g=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var j=(e,t,s)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))b.call(t,s)&&j(e,s,t[s]);if(g)for(var s of g(t))y.call(t,s)&&j(e,s,t[s]);return e};import{r as a,j as i}from"./react-C4x6nB0e.js";import{S as E}from"./index-BlVa0hfE.js";import{B as f,n as F,a as C,N as w,X as R,Y as N}from"./@mui-ENk-6xqm.js";import{m as I}from"./framer-motion-CKORm7Aa.js";import{a as k}from"./react-router-D3ErKnLK.js";import"./cookie-DlAFqcQt.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./axios-QAAP6aZB.js";import"./swiper-BlMsgj9I.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-is-BPJnJB5S.js";import"./motion-dom-DfhgNKIO.js";import"./motion-utils-DJR9y8Oj.js";const A="/novashop-ecommerce/assets/27002-ChFym0Mk.webp",M=({src:e})=>{const[t,s]=a.useState(e),[p,l]=a.useState(!1);return a.useEffect(()=>{if(e!==t){l(!0);const x=setTimeout(()=>{s(e),l(!1)},1e3);return()=>clearTimeout(x)}},[e,t]),i.jsxs(f,{sx:{position:"relative",width:"100%",height:{xs:190,sm:300,md:390}},children:[i.jsx(I.img,{src:t,initial:{opacity:1},animate:{opacity:p?0:1},transition:{duration:1},style:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},t),p&&i.jsx(I.img,{src:e,initial:{opacity:0},animate:{opacity:1},transition:{duration:1},style:{position:"absolute",width:"100%",height:"100%",objectFit:"contain"}},e)]})},tt=()=>{const{allProducts:e,categories:t}=a.useContext(E),s=k(),[p,l]=a.useState({}),x=a.useRef({}),u=a.useRef({});a.useEffect(()=>{if(e.length===0||t.length===0)return;const n={},m={},r={};t.forEach(o=>{const h=e.filter(c=>c.category===o).map(c=>c.image);h.length>0&&(m[o]=h,r[o]=0,n[o]=h[0])}),x.current=m,u.current=r,l(n)},[e,t]),a.useEffect(()=>{if(t.length===0||e.length===0)return;const n=setInterval(()=>{const m={};t.forEach(r=>{const o=x.current[r];if(!o||o.length<=1)return;const c=(u.current[r]+1)%o.length;u.current[r]=c,m[r]=o[c]}),l(r=>d(d({},r),m))},5e3);return()=>clearInterval(n)},[t,e]);const v=n=>{s(`/shop?category=${encodeURIComponent(n)}`)};return e.length===0?i.jsx(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:300,width:"100%",flexDirection:"column",backgroundColor:"transparent"},children:i.jsx(F,{sx:{color:"#FF5733"}})}):i.jsxs(f,{className:"divloco",sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:{xs:0,md:4}},children:[i.jsx(C,{variant:"h4",sx:{color:"white",textAlign:"center",fontFamily:"Montserrat, sans-serif",fontSize:{xs:"25px",sm:"35px"}},children:"CATEGORIES"}),i.jsx(w,{container:!0,spacing:2,rowSpacing:{xs:2,md:8},sx:{mt:4,width:"70%",display:"flex"},children:t.map(n=>i.jsx(w,{size:{xs:6},sx:{display:"flex",justifyContent:"center"},children:i.jsxs(R,{onClick:()=>v(n),sx:{p:2,width:300,cursor:"pointer",position:"relative",overflow:"hidden",borderRadius:"10px","&:hover":{transform:"scale(1.05)"},transition:"transform 0.3s ease"},children:[i.jsx(M,{src:p[n]||A}),i.jsx(N,{sx:{position:"absolute",bottom:{xs:-15,md:0},left:0,bgcolor:"rgba(13, 63, 112, 0.7)",width:"100%"},children:i.jsx(C,{variant:"h6",sx:{color:"white",textAlign:"center",fontSize:{xs:"16px",sm:"18px",md:"21px"}},children:n.charAt(0).toUpperCase()+n.slice(1)})})]})},n))})]})};export{tt as default};
