import{U as p,j as e,r as l,a5 as A,ad as B,ae as W,a7 as n,ab as o,N as s,a8 as $,aa as a,af as L,ag as M,ah as q,ai as N,aj as O,ak as R,al as H}from"./index-CMTdWEKz.js";import{A as P}from"./ArrowBack-D7WAadzc.js";import{D as x}from"./Divider-DAUNeKUO.js";const T=p(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),E=p(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),F=p(e.jsx("path",{d:"M19 13H5v-2h14z"}));function Q(){const{cart:i,removeFromCart:b,updateQuantity:m,formatPrice:c,handleCloseModal:u,clearCart:C}=l.useContext(A),{isAuthenticated:v}=l.useContext(B),[w,d]=l.useState(!1);l.useEffect(()=>()=>{u()},[]);const j=500,g=W(),h=()=>c(i.reduce((t,r)=>t+r.price*r.quantity,0)),k=()=>c(h()+j),S=()=>{d(!0)},f=()=>{d(!1)},I=()=>{C(),d(!1)},y=i.length===0,D=()=>{y||g(v?"/checkout":"/login")};return e.jsxs(n,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",gap:2,p:{xs:2,md:5},height:"auto"},children:[e.jsxs(o,{container:!0,spacing:3,sx:{width:"100%",maxWidth:"1200px",background:"rgb(27, 27, 27)",border:"1px solid rgba(255, 255, 255, 0.67)",borderRadius:"10px",boxShadow:"1px 1px 3px rgba(255, 255, 255, 0.47)",p:{xs:2,md:3}},children:[i.length===0?e.jsx(o,{size:{xs:12,md:8},sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},children:e.jsx(s,{variant:"h5",children:"No products added to the cart"})}):e.jsx(o,{size:{xs:12,md:8},children:e.jsxs(n,{sx:{p:2,borderRadius:"5px",height:"auto",display:"flex",flexDirection:"column",gap:2,border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)"},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Products in Cart"}),e.jsx(x,{sx:{mb:2,bgcolor:"grey.500"}}),i.map((t,r)=>e.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:{xs:"flex-start",sm:"space-between"},gap:{xs:1,sm:2}},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[e.jsx($,{onClick:()=>b(t.id),sx:{color:"white",p:.5,mr:1,"&:focus":{outline:"none",boxShadow:"none"},"&:active":{outline:z=>`1px solid ${z.palette.primary.main}`}},children:e.jsx(E,{})}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(n,{sx:{bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:.4,borderRadius:"25%",boxShadow:"1px 1px 3px rgba(255,255,255,0.43)"},children:e.jsx("img",{src:t.image,alt:t.title,style:{width:50,height:50,objectFit:"contain"}})}),e.jsx(s,{variant:"body2",sx:{maxWidth:360,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:{xs:2,md:1},WebkitBoxOrient:"vertical"},children:t.title})]})]}),e.jsxs(n,{sx:{minWidth:"215px",display:"flex",gap:5,alignItems:"center",alignSelf:{xs:"center",md:"center"},justifyContent:"space-between",mb:{xs:3,sm:0}},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{variant:"outlined",size:"small",onClick:()=>m(t.id,t.quantity-1),sx:{p:0,minWidth:"auto"},children:e.jsx(F,{})}),e.jsx(s,{variant:"body2",sx:{minWidth:"16px",p:1,textAlign:"center"},children:t.quantity}),e.jsx(a,{variant:"outlined",size:"small",onClick:()=>m(t.id,t.quantity+1),sx:{p:0,minWidth:"auto"},children:e.jsx(T,{})})]}),e.jsxs(s,{variant:"body2",sx:{fontSize:"18px"},children:["$ ",c(t.price*t.quantity)]})]})]},r)),e.jsx(x,{sx:{mt:2,bgcolor:"grey.500"}}),e.jsxs(s,{variant:"h6",sx:{textAlign:"right",mt:2},children:["Subtotal: $",h()]})]})}),e.jsx(o,{size:{xs:12,md:4},children:e.jsxs(L,{sx:{height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",background:"#1b1b1b",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)",color:"white",p:3},children:[e.jsxs(M,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Order Summary"}),e.jsx(x,{sx:{mb:2,bgcolor:"grey.500"}}),e.jsxs(s,{variant:"body1",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:["Products (",i.reduce((t,r)=>t+r.quantity,0),")"]}),e.jsxs("span",{children:["$ ",h()]})]}),e.jsxs(s,{variant:"body1",sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:i.length===0?"$ 0":`$ ${j}`})]}),e.jsx(x,{sx:{my:2,bgcolor:"grey.500"}}),i.length===0?null:e.jsxs(s,{variant:"h6",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$ ",k()]})]})]}),e.jsx(a,{variant:"contained",disabled:y,color:"primary",fullWidth:!0,sx:{mt:2},onClick:D,children:"Buy Now"}),e.jsx(a,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mt:2},onClick:S,children:"Clear Cart"})]})})]}),e.jsx(q,{to:"/",children:e.jsxs(a,{onClick:()=>{u(),g(-1)},sx:{alignSelf:"flex-start",ml:4,color:"white"},children:[e.jsx(P,{}),e.jsx(s,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]})}),e.jsxs(N,{open:w,onClose:f,children:[e.jsx(O,{children:"Confirm Clear Cart"}),e.jsx(R,{children:e.jsx(s,{variant:"body2",children:"Are you sure you want to clear all items in your cart?"})}),e.jsxs(H,{children:[e.jsx(a,{onClick:f,sx:{color:"secondary.main"},children:"Cancel"}),e.jsx(a,{onClick:I,color:"primary",children:"Clear Cart"})]})]})]})}export{Q as default};
