import{r as l,j as e}from"./react-C4x6nB0e.js";import{B as i,N as o,a as s,q as x,I as B,U as W,e as r,V as A,W as $,X as q,Y as z,Z as N,D as O,i as R,j as L,k as P}from"./@mui-ENk-6xqm.js";import{S as T,A as E}from"./index-BQlfEo90.js";import{a as F,L as M}from"./react-router-D3ErKnLK.js";import"./cookie-DlAFqcQt.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./react-is-BPJnJB5S.js";import"./axios-QAAP6aZB.js";import"./swiper-BlMsgj9I.js";function ae(){const{cart:n,removeFromCart:y,updateQuantity:p,formatPrice:c,handleCloseModal:m,clearCart:b}=l.useContext(T),{isAuthenticated:C}=l.useContext(E),[w,d]=l.useState(!1);l.useEffect(()=>()=>{m()},[]);const u=500,j=F(),h=()=>c(n.reduce((t,a)=>t+a.price*a.quantity,0)),v=()=>c(h()+u),k=()=>{d(!0)},g=()=>{d(!1)},S=()=>{b(),d(!1)},f=n.length===0,D=()=>{f||j(C?"/checkout":"/login")};return e.jsxs(i,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",gap:2,p:{xs:2,md:5},height:"auto"},children:[e.jsxs(o,{container:!0,spacing:3,sx:{width:"100%",maxWidth:"1200px",background:"rgb(27, 27, 27)",border:"1px solid rgba(255, 255, 255, 0.67)",borderRadius:"10px",boxShadow:"1px 1px 3px rgba(255, 255, 255, 0.47)",p:{xs:2,md:3}},children:[n.length===0?e.jsx(o,{size:{xs:12,md:8},sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},children:e.jsx(s,{variant:"h5",children:"No products added to the cart"})}):e.jsx(o,{size:{xs:12,md:8},children:e.jsxs(i,{sx:{p:2,borderRadius:"5px",height:"auto",display:"flex",flexDirection:"column",gap:2,border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)"},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Products in Cart"}),e.jsx(x,{sx:{mb:2,bgcolor:"grey.500"}}),n.map((t,a)=>e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:{xs:"flex-start",sm:"space-between"},gap:{xs:1,sm:2}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[e.jsx(B,{onClick:()=>y(t.id),sx:{color:"white",p:.5,mr:1,"&:focus":{outline:"none",boxShadow:"none"},"&:active":{outline:I=>`1px solid ${I.palette.primary.main}`}},children:e.jsx(W,{})}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(i,{sx:{bgcolor:"white",display:"flex",alignItems:"center",justifyContent:"center",p:.4,borderRadius:"25%",boxShadow:"1px 1px 3px rgba(255,255,255,0.43)"},children:e.jsx("img",{src:t.image,alt:t.title,style:{width:50,height:50,objectFit:"contain"}})}),e.jsx(s,{variant:"body2",sx:{maxWidth:360,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:{xs:2,md:1},WebkitBoxOrient:"vertical"},children:t.title})]})]}),e.jsxs(i,{sx:{minWidth:"215px",display:"flex",gap:5,alignItems:"center",alignSelf:{xs:"center",md:"center"},justifyContent:"space-between",mb:{xs:3,sm:0}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{variant:"outlined",size:"small",onClick:()=>p(t.id,t.quantity-1),sx:{p:0,minWidth:"auto"},children:e.jsx(A,{})}),e.jsx(s,{variant:"body2",sx:{minWidth:"16px",p:1,textAlign:"center"},children:t.quantity}),e.jsx(r,{variant:"outlined",size:"small",onClick:()=>p(t.id,t.quantity+1),sx:{p:0,minWidth:"auto"},children:e.jsx($,{})})]}),e.jsxs(s,{variant:"body2",sx:{fontSize:"18px"},children:["$ ",c(t.price*t.quantity)]})]})]},a)),e.jsx(x,{sx:{mt:2,bgcolor:"grey.500"}}),e.jsxs(s,{variant:"h6",sx:{textAlign:"right",mt:2},children:["Subtotal: $",h()]})]})}),e.jsx(o,{size:{xs:12,md:4},children:e.jsxs(q,{sx:{height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-between",background:"#1b1b1b",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)",color:"white",p:3},children:[e.jsxs(z,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Order Summary"}),e.jsx(x,{sx:{mb:2,bgcolor:"grey.500"}}),e.jsxs(s,{variant:"body1",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:["Products (",n.reduce((t,a)=>t+a.quantity,0),")"]}),e.jsxs("span",{children:["$ ",h()]})]}),e.jsxs(s,{variant:"body1",sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:n.length===0?"$ 0":`$ ${u}`})]}),e.jsx(x,{sx:{my:2,bgcolor:"grey.500"}}),n.length===0?null:e.jsxs(s,{variant:"h6",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$ ",v()]})]})]}),e.jsx(r,{variant:"contained",disabled:f,color:"primary",fullWidth:!0,sx:{mt:2},onClick:D,children:"Buy Now"}),e.jsx(r,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mt:2},onClick:k,children:"Clear Cart"})]})})]}),e.jsx(M,{to:"/",children:e.jsxs(r,{onClick:()=>{m(),j(-1)},sx:{alignSelf:"flex-start",ml:4,color:"white"},children:[e.jsx(N,{}),e.jsx(s,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]})}),e.jsxs(O,{open:w,onClose:g,children:[e.jsx(R,{children:"Confirm Clear Cart"}),e.jsx(L,{children:e.jsx(s,{variant:"body2",children:"Are you sure you want to clear all items in your cart?"})}),e.jsxs(P,{children:[e.jsx(r,{onClick:g,sx:{color:"secondary.main"},children:"Cancel"}),e.jsx(r,{onClick:S,color:"primary",children:"Clear Cart"})]})]})]})}export{ae as default};
