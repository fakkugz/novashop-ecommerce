import{r as i,j as o}from"./react-C4x6nB0e.js";import{a1 as F,B as l,e as s,Z as g,a as r,N as c,I as L,F as N,a2 as S,X as R,Y as I,q as b,D as O,i as P,j as z,k as E}from"./@mui-ENk-6xqm.js";import{S as K,A as M}from"./index-BQlfEo90.js";import{A as V}from"./AddedToCart-CvbpulHg.js";import{c as W,a as q,L as G}from"./react-router-D3ErKnLK.js";import"./cookie-DlAFqcQt.js";import"./@emotion-BhuicUnK.js";import"./hoist-non-react-statics-Cxfv-rx9.js";import"./@babel-B4YMtfbM.js";import"./stylis-DDa9OTMq.js";import"./clsx-B-dksMZM.js";import"./@popperjs-CF2GPdRh.js";import"./react-transition-group-C87tqeo7.js";import"./react-dom-CjuexJA-.js";import"./scheduler-9kLHP6Nb.js";import"./react-is-BPJnJB5S.js";import"./axios-QAAP6aZB.js";import"./swiper-BlMsgj9I.js";const co=()=>{const{id:a}=W(),{allProducts:j,addToCart:x,addToCartOpenModal:f,setAddToCartOpenModal:p,lastAddedProduct:C,setLastAddedProduct:y,updateLastVisited:v,favorites:n,setFavorites:m}=i.useContext(K),{isAuthenticated:k}=i.useContext(M),e=j.find(t=>t.id===Number(a)),[w,h]=i.useState(!1),d=q(),A=F();i.useEffect(()=>{window.scrollTo(0,0),e&&v(e)},[]);const D=t=>{x(t),y(t),p(!0)},B=()=>{h(!1)},u=n.some(t=>t.id===e.id),T=()=>{k?m(u?n.filter(t=>t.id!==Number(a)):[...n,e]):h(!0)};return e?o.jsxs(l,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:1,p:{xs:2,md:1}},children:[o.jsxs(s,{sx:{alignSelf:"center",ml:4,color:"white"},onClick:()=>d(-1),children:[o.jsx(g,{}),o.jsx(r,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]}),o.jsxs(c,{container:!0,spacing:3,sx:{width:"100%",maxWidth:"1200px",background:"rgb(27, 27, 27)",border:"1px solid rgba(255, 255, 255, 0.67)",borderRadius:"10px",boxShadow:"1px 1px 3px rgba(255, 255, 255, 0.47)",p:{xs:2,md:5}},children:[o.jsx(c,{size:{xs:12,md:6},children:o.jsxs(l,{sx:{background:"white",height:{xs:"400px",md:"510px"},borderRadius:"5px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative",p:1},children:[o.jsx(L,{onClick:T,sx:{position:"absolute",top:5,left:5,backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(N,{sx:{color:u?"secondary.main":"white",opacity:.7,"&:hover":{opacity:1}}})}),o.jsx(S,{component:"img",alt:e.title,image:e.image,sx:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"5px"}})]})}),o.jsx(c,{size:{xs:12,md:6},children:o.jsx(R,{sx:{height:{xs:"auto",md:"524px"},display:"flex",flexDirection:"column",justifyContent:"space-between",background:"#1b1b1b",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"inset 0 0 6px rgba(255,255,255,0.05)",color:"white"},children:o.jsxs(I,{sx:{p:{xs:2,md:3},flexGrow:1},children:[o.jsx(r,{variant:"h4",gutterBottom:!0,children:e.title}),o.jsx(b,{sx:{mb:2,bgcolor:"grey.500"}}),o.jsxs(r,{variant:"h3",component:"p",sx:{mb:2},children:["$ ",e.price]}),o.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,justifyContent:"space-between",mb:3},children:[o.jsx(s,{variant:"contained",size:"large",fullWidth:!0,onClick:()=>{x(e),d("/cart")},sx:{backgroundColor:"secondary.light",color:"white",border:"2px solid transparent",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:"secondary.main",border:"2px solid rgb(248, 115, 6)"}},children:"Buy Now"}),o.jsx(s,{variant:"outlined",size:"large",fullWidth:!0,onClick:()=>D(e),sx:{color:"secondary.main",border:`2px solid ${A.palette.secondary.main}`,"&:hover":{backgroundColor:"rgba(25, 118, 210, 0.4)",borderColor:"#4fc3f7",color:"#FF5121"}},children:"Add to cart"})]}),o.jsx(b,{sx:{mb:2}}),o.jsx(r,{variant:"body1",color:"rgb(233, 233, 233)",children:e.description})]})})})]}),o.jsxs(s,{sx:{alignSelf:"center",ml:4,color:"white"},onClick:()=>d(-1),children:[o.jsx(g,{}),o.jsx(r,{variant:"body1",sx:{marginLeft:1},children:"BACK"})]}),o.jsx(V,{open:f,product:C,onClose:()=>p(!1)}),o.jsxs(O,{open:w,children:[o.jsx(P,{children:"Login Required"}),o.jsx(z,{children:o.jsx(r,{variant:"body1",children:"You must log in to add products to favorites."})}),o.jsx(E,{children:o.jsx(s,{onClick:B,color:"primary",children:"OK"})})]})]}):o.jsxs("section",{className:"task-details",children:[o.jsxs("p",{children:["No se encontr√≥ el producto con ID: ",a]}),o.jsx(G,{to:"/shop",children:o.jsx("button",{className:"btn-back",children:"VOLVER"})})]})};export{co as default};
