var z=Object.defineProperty;var l=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var k=(t,s,a)=>s in t?z(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,p=(t,s)=>{for(var a in s||(s={}))w.call(s,a)&&k(t,a,s[a]);if(l)for(var a of l(s))D.call(s,a)&&k(t,a,s[a]);return t};var S=(t,s)=>{var a={};for(var o in t)w.call(t,o)&&s.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&l)for(var o of l(t))s.indexOf(o)<0&&D.call(t,o)&&(a[o]=t[o]);return a};import{r as W,j as e}from"./react-C4x6nB0e.js";import{X as q,B as E,a2 as P,ac as R,Y as F,a as m,ad as Y,I as j,f as u,F as G,S as K,ae as X,G as J,H as N,D as Q,i as U,j as V,k as Z,e as _}from"./@mui-ENk-6xqm.js";import{u as tt,a as f}from"./react-redux-CqFTqn1Y.js";import{f as et}from"./formatPrice-CN-i1W_t.js";import{q as I,y as st,p as at}from"./index-Beew410P.js";import{L as ot}from"./react-router-D3ErKnLK.js";const it=X(t=>{const o=t,{expand:s}=o,a=S(o,["expand"]);return e.jsx(j,p({},a))})(({theme:t})=>({marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),variants:[{props:({expand:s})=>!s,style:{transform:"rotate(0deg)"}},{props:({expand:s})=>!!s,style:{transform:"rotate(180deg)"}}]}));function pt({id:t,title:s,price:a,description:o,category:d,image:x,rate:c,onAddToCartSuccess:C,sx:O={}}){const r=tt(),[n,A]=W.useState(!1),[B,g]=W.useState(!1),h=f(i=>i.filters.favorites),b=f(i=>i.cart.cart),H=f(i=>i.auth.isAuthenticated),L=()=>{A(!n)},v=h.some(i=>i.id===t),y=b.some(i=>i.id===t),M=()=>{H?r(v?I(h.filter(i=>i.id!==t)):I([...h,{id:t,title:s,price:a,description:o,category:d,image:x,rating:{rate:c}}])):g(!0)},$=()=>{if(y)r(st(b.filter(i=>i.id!==t)));else{const i={id:t,title:s,price:a,description:o,category:d,image:x,rate:c};r(at(i)),C&&C(i)}},T=()=>{g(!1)};return e.jsxs(q,{id:t,sx:p({maxWidth:284,minHeight:{xs:400,sm:480,md:520},display:"flex",flexDirection:"column",justifyContent:"space-between"},O),children:[e.jsxs(ot,{to:`/shop/products/${t}`,style:{textDecoration:"none",color:"inherit"},children:[e.jsx(E,{sx:{height:{xs:190,sm:220,md:260},width:"auto",display:"flex",alignItems:"center",justifyContent:"center",p:1},children:e.jsx(P,{component:"img",image:x,alt:s,sx:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"}})}),e.jsx(R,{title:s,subheader:`${d} - ${c}`,sx:{"& .MuiCardHeader-title":{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:2,maxWidth:"100%",fontSize:{xs:"16px",sm:"20px"}},"& .MuiCardHeader-subheader":{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:1,maxWidth:"100%",fontSize:{xs:"11px",sm:"16px"}}}}),e.jsx(E,{sx:{m:{xs:0,sm:1}},children:e.jsx(F,{children:e.jsx(m,{variant:"h4",align:"center",sx:{fontSize:{xs:"25px",sm:"30px"}},children:`$ ${et(a)}`})})})]}),e.jsxs(Y,{disableSpacing:!0,children:[e.jsx(j,{"aria-label":"add to favorites",onClick:M,sx:{"&:focus":{outline:"none"}},children:e.jsx(u,{title:"Add to Favorites",arrow:!0,children:e.jsx(G,{sx:{color:v?"secondary.main":"inherit"}})})}),e.jsx(j,{"aria-label":"share",onClick:$,sx:{"&:focus":{outline:"none"}},children:e.jsx(u,{title:"Add to Cart",arrow:!0,children:e.jsx(K,{sx:{color:y?"primary.main":"inherit"}})})}),e.jsx(it,{expand:n,onClick:L,"aria-expanded":n,"aria-label":"show more",sx:{"&:focus":{outline:"none"}},children:e.jsx(u,{title:"+ Info",arrow:!0,children:e.jsx(J,{})})})]}),e.jsx(N,{in:n,timeout:"auto",unmountOnExit:!0,children:e.jsx(F,{children:e.jsx(m,{variant:"body2",sx:{color:"black"},children:o})})}),e.jsxs(Q,{open:B,children:[e.jsx(U,{children:"Login Required"}),e.jsx(V,{children:e.jsx(m,{variant:"body1",children:"You must log in to add products to favorites."})}),e.jsx(Z,{children:e.jsx(_,{onClick:T,color:"primary",children:"OK"})})]})]})}export{pt as I};
